<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥–∞—é—â–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤ –∏ –º–µ—Ä—á–∞. –ö–µ–π—Å—ã –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã" />
  <title>–î—Ä—É–≥ ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    :root{
      --bg-1: #06060a;
      --bg-2: #0b1020;
      --neon-1: #a855f7;
      --neon-2: #6366f1;
      --neon-1-rgba: rgba(168,85,247,0.95);
      --neon-2-rgba: rgba(99,102,241,0.9);
      --neon-glow: rgba(168,85,247,0.08);
      --glass: rgba(12,12,18,0.4);
      --glass-strong: rgba(10,10,14,0.6);
      --glass-border: rgba(168,85,247,0.12);
      --text-soft: #dfe7ff;
    }

    html,body{height:100%;}

    body {
      margin:0;
      background: radial-gradient(1000px 600px at 10% 10%, rgba(104,80,255,0.06), transparent 8%),
                  radial-gradient(800px 500px at 90% 90%, rgba(6,182,212,0.04), transparent 6%),
                  linear-gradient(180deg, var(--bg-1) 0%, var(--bg-2) 100%);
      color:var(--text-soft);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .h-scroll { height: 100vh; display: flex; overflow-x: auto; overflow-y: hidden; scroll-snap-type: x mandatory; -webkit-overflow-scrolling: touch; }
    .panel { scroll-snap-align: start; min-width: 100vw; height: 100vh; flex: 0 0 100vw; }

    .logo-circle {
      width: min(72vh, 80vw);
      height: min(72vh, 80vw);
      min-width: 420px;
      min-height: 420px;
      border-radius: 9999px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      box-shadow: 0 6px 30px rgba(0,0,0,0.6), 0 0 30px rgba(168,85,247,0.08) inset;
      border: 2px solid rgba(168,85,247,0.06);
      position: relative;
      transition: transform 0.45s ease, box-shadow 0.45s ease;
    }
    .logo-circle::after{
      content:"";
      position:absolute; inset:0; border-radius:9999px;
      box-shadow: 0 0 120px 12px rgba(168,85,247,0.06);
      pointer-events:none;
    }
    .logo-circle:hover { transform: translateY(-8px) scale(1.04); box-shadow: 0 20px 80px rgba(168,85,247,0.14), 0 0 60px rgba(6,182,212,0.06) inset; }

    .avatar-frame {
      width: calc(100% - 28px);
      height: calc(100% - 28px);
      border-radius: 9999px;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 6px;
      background: linear-gradient(90deg, var(--neon-1-rgba), var(--neon-2-rgba));
      box-shadow: 0 16px 50px var(--neon-glow), inset 0 4px 30px rgba(99,102,241,0.06);
      -webkit-mask: linear-gradient(#000, #000);
      transition: transform 0.35s ease, box-shadow 0.35s ease;
    }
    .logo-circle:hover .avatar-frame { transform: translateY(-6px) scale(1.01); box-shadow: 0 32px 80px rgba(168,85,247,0.12), inset 0 6px 40px rgba(99,102,241,0.08); }

    .avatar-frame .avatar-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 9999px;
      display:block;
      border: 2px solid rgba(0,0,0,0.18);
      box-shadow: 0 10px 30px rgba(0,0,0,0.45);
      background-color: #0a0a0a;
    }

    .mini-badge {
      width: 72px; height:72px;
      border-radius:9999px;
      background: linear-gradient(135deg, rgba(168,85,247,0.12), rgba(6,182,212,0.06));
      border: 2px solid rgba(255,255,255,0.04);
      display:inline-flex;
      align-items:center;
      justify-content:center;
      box-shadow: 0 6px 24px rgba(6,182,212,0.04);
      cursor:pointer;
      transition: transform 0.22s ease, box-shadow 0.22s ease;
    }
    .mini-badge:hover { transform: translateY(-4px) rotate(6deg); box-shadow: 0 18px 40px rgba(168,85,247,0.14); }

    .glass-card {
      background: var(--glass);
      border: 1px solid var(--glass-border);
      border-radius: 14px;
      backdrop-filter: blur(10px) saturate(120%);
      box-shadow: 0 8px 40px rgba(3,6,23,0.6);
      transition: transform 0.32s ease, box-shadow 0.32s ease;
    }
    .glass-card:hover { transform: translateY(-6px); box-shadow: 0 28px 80px rgba(6,12,35,0.6); }

    h1,h2,h3{ margin:0; letter-spacing:-0.4px; color:var(--text-soft); text-shadow: 0 4px 24px rgba(0,0,0,0.6); }
    h1 { font-weight:800; }
    p, li, a { color: #cdd6ff; }

    .cta-button {
      background: linear-gradient(90deg, rgba(168,85,247,0.95), rgba(99,102,241,0.9));
      color: #fff;
      font-weight:700;
      padding: 0.68rem 1.05rem;
      border-radius: 0.75rem;
      display:inline-flex; align-items:center; gap:0.5rem;
      box-shadow: 0 8px 40px rgba(168,85,247,0.12), 0 0 30px rgba(99,102,241,0.08);
      transition: transform 0.16s ease, box-shadow 0.16s ease;
    }
    .cta-button:hover { transform: translateY(-3px); box-shadow: 0 22px 60px rgba(168,85,247,0.18), 0 0 50px rgba(6,182,212,0.06); }

    .bookmark-button {
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.04);
      color:var(--text-soft);
      padding: 0.5rem 0.9rem;
      border-radius: 0.7rem;
      display:inline-flex;
      align-items:center;
      gap:0.5rem;
      cursor:pointer;
      transition: transform 0.14s ease, box-shadow 0.14s ease;
    }
    .bookmark-button:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(6,12,35,0.6); }

    .bookmark-toast {
      position: fixed; left:50%; transform: translateX(-50%) translateY(8px); bottom: 28px;
      background: linear-gradient(180deg, rgba(10,10,14,0.9), rgba(6,6,10,0.92));
      color: #fff;
      padding: 10px 16px;
      border-radius: 10px;
      box-shadow: 0 18px 60px rgba(0,0,0,0.65), 0 0 40px rgba(168,85,247,0.06);
      font-size:14px; z-index:1200; opacity:0; pointer-events:none;
      transition: opacity 220ms ease, transform 220ms ease;
    }
    .bookmark-toast.show { opacity:1; pointer-events:auto; transform: translateX(-50%) translateY(0); }

    .ios-modal {
      position: fixed; left:50%; top:50%; transform: translate(-50%,-50%) scale(0.98);
      width: min(92vw, 420px);
      background: linear-gradient(180deg, rgba(12,12,18,0.92), rgba(8,8,12,0.96));
      padding: 18px; border-radius: 12px; box-shadow: 0 28px 100px rgba(0,0,0,0.75);
      z-index: 1300; color:var(--text-soft); opacity:0; pointer-events:none;
      transition: opacity 180ms ease, transform 180ms ease;
      border: 1px solid rgba(168,85,247,0.06);
    }
    .ios-modal.show { opacity:1; pointer-events:auto; transform: translate(-50%,-50%) scale(1); }
    .ios-modal h4{ margin:0 0 8px 0; font-weight:700; color: #fff; }
    .ios-modal .steps{ font-size:14px; color: #c9d4ff; line-height:1.45; }
    .ios-modal .close{ margin-top:12px; display:inline-block; background: rgba(255,255,255,0.02); padding:8px 12px; border-radius:8px; cursor:pointer; color:#fff; }

    .no-scrollbar::-webkit-scrollbar { display: none; } .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

    @media (max-width:900px) {
      #welcome .container { flex-direction: column; align-items: center; text-align: center; gap: 18px; padding-left: 2rem; padding-right: 2rem; }
      .logo-circle { width: min(44vh,72vw); height: min(44vh,72vw); min-width:200px; min-height:200px; }
      .mini-badge{width:56px;height:56px;}
      .avatar-frame { width: calc(100% - 18px); height: calc(100% - 18px); padding:4px; }
    }
  </style>
</head>
<body class="bg-neutral-900 text-neutral-100 font-sans">

  <div class="h-scroll">

    <!-- Hero -->
    <section id="welcome" class="panel flex items-center justify-center" style="background: radial-gradient(800px 500px at 10% 20%, rgba(168,85,247,0.06), transparent 8%), radial-gradient(600px 380px at 90% 80%, rgba(6,182,212,0.04), transparent 6%);">
      <div class="container mx-auto px-8 flex items-center gap-12 w-full max-w-6xl">
        <div class="flex-shrink-0 flex items-center justify-center">
          <div class="logo-circle rounded-full">
            <div class="avatar-frame" aria-hidden="true">
              <img src="https://hooks.pro/media/2025/08/26/bot7634233960/photos/HFVD/file_7.jpg" alt="–ê–≤–∞—Ç–∞—Ä" class="avatar-img">
            </div>
          </div>
        </div>
        <div class="flex-1 flex flex-col justify-center items-start md:items-start">
          <div class="w-full flex items-center gap-6">
            <div class="text-left md:text-left">
              <h1 class="text-5xl md:text-6xl font-extrabold leading-tight" style="text-shadow: 0 8px 40px #a855f72e;">Ti</h1>
              <p class="text-sm md:text-lg" style="color: #c9d4ff; margin-top:6px;">–°–æ–∑–¥–∞—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ç—ã –∏ –º–µ—Ä—á</p>
            </div>
            <div class="ml-auto hidden md:block">
              <div class="mini-badge" role="button" title="–ü–µ—Ä–µ–π—Ç–∏">
                <img src="https://hooks.pro/media/2025/08/26/bot7634233960/photos/HFVD/file_7.jpg" alt="badge" class="w-9 h-9 object-contain rounded-full">
              </div>
            </div>
          </div>
          <div class="cta-wrap mt-8 md:mt-10 flex items-center gap-3">
            <a id="writeBtn" href="https://t.me/ts31415" class="cta-button" aria-label="–ù–∞–ø–∏—Å–∞—Ç—å">üöÄ –ù–∞–ø–∏—Å–∞—Ç—å</a>
            <button id="bookmarkBtn" class="bookmark-button" aria-label="–î–æ–±–∞–≤–∏—Ç—å –≤ –∑–∞–∫–ª–∞–¥–∫–∏" title="–î–æ–±–∞–≤–∏—Ç—å –≤ –∑–∞–∫–ª–∞–¥–∫–∏">ü™ê –î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Content -->
    <section id="content" class="panel bg-black/40 flex items-center justify-center">
      <div class="w-full max-w-3xl h-full overflow-y-auto no-scrollbar py-12 px-8">
        <div class="h-full flex flex-col justify-start gap-10">
          <div id="about" class="glass-card p-6">
            <h2 class="text-3xl font-semibold pb-2">Bio</h2>
            <ul class="mt-4 list-disc list-inside space-y-2" style="color:#cdd6ff;">
              <li>–û—Ç –∏–¥–µ–∏ –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: —Å—Ç—Ä–∞—Ç–µ–≥–∏—è ‚Üí –¥–∏–∑–∞–π–Ω ‚Üí –ø—Ä–æ–¥–∞–∫—à–Ω ‚Üí –¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏—è</li>
              <li>3 –≥–æ–¥–∞ –≤ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥–∏–∏ ‚Üí —Ö–∏—Ä—É—Ä–≥–∏–∏</li>
              <li>–ó–∞ –≤—Å–µ –≤—Ä–µ–º—è - HR, —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç, —Ç–æ–ø-–º–µ–Ω–µ–¥–∂–µ—Ä ‚Üí –∏–≤–µ–Ω—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä, –º–æ–¥–µ–ª—å, –ø—Ä–æ–µ–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä.</li>
              <li>–ü–æ–ª—é–±–∏–ª –Ω–æ–≤–æ–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø—É–≥–∞–ª–æ —Å—Ç–∞—Ä–æ–µ –∏ –≤ —Ü–µ–ª–æ–º –Ω–µ–ø–ª–æ—Ö–∞—è –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è.</li>
            </ul>
          </div>
          <div id="cases" class="glass-card p-6">
            <h2 class="text-3xl font-semibold pb-2">–ö–µ–π—Å—ã</h2>
            <div class="grid md:grid-cols-2 gap-4 mt-4">
              <a href="https://t.me/dg31415" class="block p-4 glass-card hover:scale-[1.02] transition">
                <h3 class="font-bold">–ø–∏—Å—å–º–∞ –∏–∑ –±—É—Ç—ã–ª–∫–∏</h3>
                <p class="text-sm" style="color:#bfcfff;">–¢–≤–æ—Ä—á–µ—Å–∫–∏–π –Ω–µ–ø—Ä–æ–µ–∫—Ç</p>
              </a>
              <a href="https://t.me/token_EYE_ID" class="block p-4 glass-card hover:scale-[1.02] transition">
                <h3 class="font-bold" style="color:#70cbff;">EYE-ID</h3>
                <p class="text-sm" style="color:#e0e8ff;">–¶–µ–ª—ã–π –º–∏—Ä –≤ –æ–¥–Ω–æ –∫–∞—Å–∞–Ω–∏–µ. –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º—É–ª—å—Ç–∏–ø—Ä–æ—Ñ–∏–ª—å - 
                  –¥–ª—è –ê—Ä—Ç–∏—Å—Ç–æ–≤, –ë–ª–æ–≥–µ—Ä–æ–≤ –∏ –ù–µ—Ç–≤–æ—Ä–∫–∏–Ω–≥–∞. 
                  –¢–≤–æ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ç–æ–∫–µ–Ω.</p>
              </a>
              <a href="https://t.me/NotUnderground" class="block p-4 glass-card hover:scale-[1.02] transition">
                <h3 class="font-bold">Not Underground</h3>
                <p class="text-sm" style="color:#bfcfff;">–ü—Ä–æ–º–æ-—Å–µ–º—å—è - –ù–∞—à–∏ –∏–≤–µ–Ω—Ç—ã —Ç—É—Ç, –ø—Ä–∏—Ö–æ–¥–∏)</p>
              </a>
              <a href="https://t.me/SYMME3" class="block p-4 glass-card hover:scale-[1.02] transition">
                <h3 class="font-bold">SYM|MET.RY</h3>
                <p class="text-sm" style="color:#bfcfff;">–ù–∞—É—á–Ω–æ-–ø–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç. (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)</p>
              </a>
            </div>
          </div>
          <div id="contacts" class="glass-card p-6">
            <h2 class="text-3xl font-semibold pb-2">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
            <div class="mt-4 flex flex-col gap-3" style="color:#c9d4ff;">
              <a href="tel:+79777637537" class="block px-4 py-2 glass-card hover:scale-105 transition">üìû +7 (999) 000-00-00</a>
              <a href="https://t.me/ts31415" class="block px-4 py-2 glass-card hover:scale-105 transition">üì± Telegram</a>
              <a href="mailto:first.guest.ghost@gmail.com" class="block px-4 py-2 glass-card hover:scale-105 transition">‚úâÔ∏è first.guest.ghost</a>
              <a href="https://www.instagram.com/teneb1415/" class="block px-4 py-2 glass-card hover:scale-105 transition">üì∏ Instagram</a>
              <a href="https://vk.com/ts31415" class="block px-4 py-2 glass-card hover:scale-105 transition">ü¶æ VK</a>
              <div class="block px-4 py-2 glass-card">üéß SoundCloud</div>
            </div>
          </div>
          <footer class="text-sm text-neutral-400 mt-auto text-center"><div>üìç –ú–æ—Å–∫–≤–∞ ‚Ä¢ ‚è± UTC+3 ‚Ä¢ ¬© tenebris</div></footer>
        </div>
      </div>
    </section>
  </div>

  <!-- toast –¥–ª—è –ø–æ–¥—Å–∫–∞–∑–æ–∫ -->
  <div id="bookmarkToast" class="bookmark-toast" role="status" aria-live="polite"></div>

  <!-- modal –¥–ª—è iOS-—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ -->
  <div id="iosModal" class="ios-modal" role="dialog" aria-modal="true" aria-hidden="true">
    <h4>–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω</h4>
    <div class="steps">
      <ol>
        <li><strong>1.</strong> –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ¬´–ü–æ–¥–µ–ª–∏—Ç—å—Å—è¬ª –≤–Ω–∏–∑—É (–∏–∫–æ–Ω–∫–∞ –∫–≤–∞–¥—Ä–∞—Ç —Å–æ —Å—Ç—Ä–µ–ª–∫–æ–π) –≤ Safari.</li>
        <li><strong>2.</strong> –í—ã–±–µ—Ä–∏—Ç–µ ¬´–ù–∞ —ç–∫—Ä–∞–Ω ¬´–î–æ–º–æ–π¬ª¬ª / ¬´Add to Home Screen¬ª.</li>
        <li><strong>3.</strong> –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ ‚Äî –∑–Ω–∞—á–æ–∫ –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Ä–∞–±–æ—á–µ–º —Å—Ç–æ–ª–µ.</li>
      </ol>
      <div style="margin-top:10px; opacity:0.9; font-size:13px;">–ï—Å–ª–∏ –≤–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ Safari, –æ—Ç–∫—Ä–æ–π—Ç–µ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –Ω–∞–π–¥–∏—Ç–µ ¬´Add to Home screen¬ª / ¬´–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω¬ª.</div>
    </div>
    <div class="close" id="iosClose">–ü–æ–Ω—è—Ç–Ω–æ</div>
  </div>

  <script>
    // 1) –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ manifest (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏)
    (function createManifest() {
      try {
        const manifest = {
          name: "Mr. Test ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∞",
          short_name: "MrTest",
          start_url: ".",
          display: "standalone",
          background_color: "#06060a",
          description: "–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥–∞—é—â–∏—Ö –∫–æ–Ω—Ü–µ–ø—Ç–æ–≤ –∏ –º–µ—Ä—á–∞. –ö–µ–π—Å—ã –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã",
          icons: [
            { src: "https://hooks.pro/media/2025/08/26/bot7634233960/photos/HFVD/file_7.jpg", sizes: "512x512", type: "image/png" }
          ]
        };
        const manifestBlob = new Blob([JSON.stringify(manifest)], { type: 'application/json' });
        const manifestURL = URL.createObjectURL(manifestBlob);
        const link = document.createElement('link');
        link.rel = 'manifest';
        link.href = manifestURL;
        document.head.appendChild(link);
      } catch (err) {
        console.warn('manifest create error', err);
      }
    })();

    // 2) –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π service worker —á–µ—Ä–µ–∑ blob ‚Äî –¥–ª—è PWA (HTTPS)
    (async function registerSW() {
      if ('serviceWorker' in navigator) {
        try {
          const swCode = `
            const CACHE = 'mrtest-v1';
            self.addEventListener('install', e => {
              self.skipWaiting();
              e.waitUntil(
                caches.open(CACHE).then(cache => cache.addAll(['/']))
              );
            });
            self.addEventListener('activate', e => {
              e.waitUntil(self.clients.claim());
            });
            self.addEventListener('fetch', e => {
              e.respondWith(
                caches.match(e.request).then(r => r || fetch(e.request))
              );
            });
          `;
          const swBlob = new Blob([swCode], { type: 'text/javascript' });
          const swUrl = URL.createObjectURL(swBlob);
          await navigator.serviceWorker.register(swUrl);
          console.log('Service worker registered from blob');
        } catch (err) {
          console.warn('SW register failed (needs HTTPS / same-origin)', err);
        }
      }
    })();

    // 3) –õ–æ–≥–∏–∫–∞ –¥–ª—è beforeinstallprompt (Chrome/Android)
    (function handleInstallPrompt() {
      let deferredPrompt = null;
      const btn = document.getElementById('bookmarkBtn');
      const toast = document.getElementById('bookmarkToast');
      const iosModal = document.getElementById('iosModal');
      const iosClose = document.getElementById('iosClose');

      function showToast(msg, ms=3500) {
        toast.textContent = msg;
        toast.classList.add('show');
        clearTimeout(toast._t);
        toast._t = setTimeout(() => toast.classList.remove('show'), ms);
      }

      function isIos() {
        return /iphone|ipad|ipod/i.test(navigator.userAgent) && /safari/i.test(navigator.userAgent);
      }
      function isStandalone() {
        return window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true;
      }

      window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault();
        deferredPrompt = e;
        btn.textContent = '‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω';
        btn.title = '–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)';
      });

      btn.addEventListener('click', async (ev) => {
        ev.preventDefault();
        if (deferredPrompt) {
          try {
            deferredPrompt.prompt();
            const choice = await deferredPrompt.userChoice;
            if (choice && choice.outcome === 'accepted') {
              showToast('–°–ø–∞—Å–∏–±–æ! –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞—á–∞—Ç–∞.');
            } else {
              showToast('–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞.');
            }
            deferredPrompt = null;
          } catch (err) {
            console.warn('prompt error', err);
            showToast('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–∫–∞–∑–∞—Ç—å –¥–∏–∞–ª–æ–≥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏.');
          }
          return;
        }
        if (isStandalone()) {
          showToast('–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.');
          return;
        }
        if (isIos()) {
          iosModal.classList.add('show');
          iosModal.setAttribute('aria-hidden', 'false');
          return;
        }
        const isMac = /Mac|iPhone|iPad|iPod/.test(navigator.platform);
        const shortcut = isMac ? '‚åò+D' : 'Ctrl+D';
        showToast('–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—é –±—Ä–∞—É–∑–µ—Ä–∞ ‚Üí ¬´–î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω¬ª –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ ' + shortcut + ' –¥–ª—è –∑–∞–∫–ª–∞–¥–∫–∏.');
      });

      iosClose.addEventListener('click', () => {
        iosModal.classList.remove('show');
        iosModal.setAttribute('aria-hidden', 'true');
      });
    })();

    // 4) –í—Å–µ –≤–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏ ‚Äî target="_blank", tel/mailto/# ‚Äî –Ω–µ—Ç
    (function setExternalTargets() {
      const anchors = document.querySelectorAll('a[href]');
      anchors.forEach(a => {
        try {
          const href = a.getAttribute('href').trim();
          if (!href) return;
          const lower = href.toLowerCase();
          if (lower.startsWith('tel:') || lower.startsWith('mailto:') || lower.startsWith('#')) {
            a.removeAttribute('target'); a.removeAttribute('rel');
          } else {
            a.setAttribute('target', '_blank'); a.setAttribute('rel', 'noopener noreferrer');
          }
        } catch (err) { console.warn('anchor processing error', err); }
      });
    })();

    // 5) –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å—Ç—Ä–µ–ª–∫–∞–º–∏ –∏ –∫–ª–∏–∫ –ø–æ mini-badge
    (function navShortcuts() {
      const container = document.querySelector('.h-scroll');
      window.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight' || e.key === 'PageDown') {
          container.scrollBy({ left: window.innerWidth, behavior: 'smooth' });
        } else if (e.key === 'ArrowLeft' || e.key === 'PageUp') {
          container.scrollBy({ left: -window.innerWidth, behavior: 'smooth' });
        }
      });
      document.querySelectorAll('.mini-badge').forEach(b => {
        b.addEventListener('click', () => {
          container.scrollBy({ left: window.innerWidth, behavior: 'smooth' });
        });
      });
    })();
  </script>
</body>
</html>